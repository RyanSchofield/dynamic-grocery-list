<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shopping List</title>
    <style>
    	body {
    		background-color: linen;
    		text-align: center;
    	}

    	li {
    		background-color: white;
    		padding: 5px;
    		margin: 10px;
    		list-style-type: none;
    		border-radius: 15px;
    		border-style: outset;
    		border-color: #6495ED;
    		
    		


    	}
    </style>
</head>
<body>
	<script>



		function loadList() {


			var ul = document.getElementById("dynamic-list");

			var li;



			
			if (localStorage.getItem("ingredients") == ""){

    			var ingredientList = [];
				localStorage.setItem("ingredients", JSON.stringify(ingredientList));
			}
			

			for (var i in JSON.parse(localStorage.getItem("ingredients"))) {
				li = document.createElement("li");
				li.setAttribute('onclick',"removeItem(this)");
				li.appendChild(document.createTextNode(JSON.parse(localStorage.getItem("ingredients"))[i]));
				ul.appendChild(li);
			}
		}

		function addItem(){

    		var ul = document.getElementById("dynamic-list");
    		var candidate = document.getElementById("candidate");
    		var li = document.createElement("li");

    		li.setAttribute('id',candidate.value);
    		li.setAttribute('onclick',"removeItem(this)");

    		li.appendChild(document.createTextNode(candidate.value));
    		ul.appendChild(li);

    		var oldList = JSON.parse(localStorage.getItem("ingredients"));
    		oldList.push(candidate.value);

    		localStorage.setItem("ingredients", JSON.stringify(oldList));
    		

    		document.getElementById("candidate").value = "";

		}

		function removeItem(el) {
			if (confirm('Remove ' + el.textContent + '?')){
				el.remove();
				var oldList = JSON.parse(localStorage.getItem("ingredients"));
				var index = oldList.indexOf(el.textContent);
				oldList.splice(index, 1);

				localStorage.setItem("ingredients", JSON.stringify(oldList));
			}
		}

		
	</script>

    <ul id="dynamic-list"></ul>

    <input type="text" id="candidate"/>
    <button onclick="addItem()">add item</button>
    
    <script> loadList(); </script>

    
</body>
</html>